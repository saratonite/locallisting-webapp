{"version":3,"sources":["newsletterapp.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newsletter.js","sourcesContent":["\"use strict\";\n(function(window,$){\n\n\n\tvar newsletterapp = (function(){\n\n\t\tvar app = function(){\n\n\t\t\tthis.el  = $(\"#newsletterapp\");\n\n\t\t\tthis.email = null;\n\n\t\t\tthis.baseUrl = null;\n\n\n\n\t\t}\n\n\t\tapp.prototype = {\n\n\t\t\tinit:function(options){\n\n\t\t\t\tthis.baseUrl = options.baseUrl || '';\n\n\n\t\t\t\tthis.el = $(\"#newsletterapp\");\n\n\t\t\t\tthis.emailEl = this.el.find(\"[type=email]\");\n\n\n\t\t\t\t// onsubmit Event\n\t\t\t\tvar self = this;\n\t\t\t\tthis.el.on('submit',function(e){\n\n\t\t\t\t\tself.email = self.emailEl.val().trim().toLowerCase();\n\n\t\t\t\t\tif(self.validate()){\n\n\n\n\t\t\t\t\t\tself.submit();\n\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tself.emailEl.focus();\n\t\t\t\t\t\talert(\"Invalid email address\");\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t});\n\n\t\t\t},\n\t\t\tvalidate:function(){\n\n\t\t\t\tvar re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    \t\t\treturn re.test(this.email);\n\n\n\n\t\t\t},\n\t\t\tsubmit:function(){\n\n\t\t\t\tvar self= this;\n\n\t\t\t\tvar email = this.email;\n\n\t\t\t\tthis.emailEl.attr('disabled',true);\n\n\t\t\t\t$.ajaxSetup({\n        \t\t\theaders: { 'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content') }\n    \t\t\t});\n\n\t\t\t\t$.ajax({\n\t\t\t\t\turl:self.baseUrl+'/subscribe',\n\t\t\t\t\tdata:{\"email\":email},\n\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\tdataType:'json',\n\t\t\t\t\tsuccess:function(response){\n\n\t\t\t\t\t\talert(response.message);\n\n\t\t\t\t\t\tself.resetApp();\n\t\t\t\t\t\t$(document).scrollTop(10);\n\t\t\t\t\t\tself.emailEl.attr('disabled',false);\n\n\n\t\t\t\t\t},\n\t\t\t\t\terror:function(xhr){\n\t\t\t\t\t\n\t\t\t\t\t\tif(xhr.status == 422){\n\n\t\t\t\t\t\t\talert(xhr.responseJSON.message);\n\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\talert('Network error!!');\n\t\t\t\tself.emailEl.attr('disabled',false);\n\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tresetApp:function(){\n\t\t\t\tthis.emailEl.val('');\n\t\t\t}\n\t\t}\n\n\n\t\treturn app;\n\t})();\n\n\twindow.newsletter = newsletterapp ;\n\n})(window,jQuery);\n\n\n$(function(){\n\n\tvar nsl = new newsletter();\n\tnsl.init({'baseUrl':GLOBAL_BASE_URL});\n\n});\n\n"],"sourceRoot":"/source/"}