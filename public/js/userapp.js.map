{"version":3,"sources":["app.js","controllers/DashboardController.js","controllers/EditReviewController.js","controllers/MyReviewController.js","controllers/ProfileController.js","controllers/SettingsController.js","controllers/VendorController.js","controllers/template.js","services/api.js","services/categoryService.js","services/meService.js","services/reviewService.js","services/vendorService.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userapp.js","sourcesContent":["\"use strict\";\n\n\tangular.module(\"userApp\",[\"ngRoute\",\"ngAnimate\",\"ngMessages\",\"angularSpinner\",\"toastr\",\"ngFileUpload\"])\n\n\t.config(function($routeProvider){\n\t\t$routeProvider.when('/',{\n\t\t\tcontroller:'DashboaredController',\n\t\t\ttemplateUrl:'app/partials/home'\n\t\t}).\n\t\twhen('/profile',{\n\t\t\tcontroller:'ProfileController',\n\t\t\ttemplateUrl:'app/partials/profile'\n\t\t})\n\t\t.when('/profile/edit',{\n\t\t\tcontroller:'ProfileController',\n\t\t\ttemplateUrl:'app/partials/profile_edit'\n\t\t})\n\t\t.when('/myreviews/:page?',{\n\t\t\tcontroller:'MyReviewController',\n\t\t\ttemplateUrl:'app/partials/myreviews'\n\t\t})\n\t\t.when('/myreviews/edit/:reviewId',{\n\t\t\tcontroller:'EditReviewController',\n\t\t\ttemplateUrl:'app/partials/myreviews_edit'\n\t\t})\n\t\t.when('/vendor/profile',{\n\t\t\tcontroller:'VendorController',\n\t\t\ttemplateUrl:\"app/partials/vendor_profile_edit\"\n\t\t})\n\t\t.when('/settings',{\n\t\t\tcontroller:\"SettingsController\",\n\t\t\ttemplateUrl:\"app/partials/settings\"\n\t\t})\n\t\t.otherwise({\n\t\t\ttemplateUrl:'app/partials/404'\n\t\t});\n\t});\n\n","\"use strict\";\nangular.module(\"userApp\")\n.controller('DashboaredController',['$scope',function($scope){\n\t\t\n\t\t$scope.content = \"Hello Universe\";\n\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.controller(\"EditReviewController\",[\"$scope\",\"$routeParams\",\"$location\",\"reviewService\",\"toastr\",function($scope,$routeParams,$location,reviewService,toastr){\n\n\t$scope.review = false;\n\n\t$scope.reviewId = $routeParams.reviewId;\n\n\t$scope.getMyReview = function(){\n\n\t\treviewService.findMyReview($scope.reviewId).then(\n\n\t\t\tfunction(response){\n\n\t\t\t\tif(response.status == 200){\n\n\t\t\t\t\t$scope.review = response.data;\n\n\n\t\t\t\t}\n\n\n\t\t\t\t$scope.requestCompleted = true;\n\n\n\t\t\t},\n\n\t\t\tfunction(response){\n\n\t\t\t\t$scope.requestCompleted = true;\n\n\n\t\t\t}\n\n\n\t\t);\n\t}\n\n\t$scope.updateReview = function(){\n\t\t$scope.serverErrors = false;\n\t\treviewService.updateMyReview($scope.reviewId,$scope.review).then(\n\t\t\t// Success\n\t\t\tfunction(response){\n\n\t\t\t\tif(response.status == 200){\n\n\t\t\t\t\ttoastr.success(\"Review updated\");\n\t\t\t\t\t$location.path('/myreviews');\n\n\t\t\t\t}\n\n\t\t\t},\n\t\t\t//Error\n\t\t\tfunction(response){\n\t\t\t\tif(response.status == 428){\n\t\t\t\t\ttoastr.error(\"Validation Error\");\n\t\t\t\t\t$scope.serverErrors = response.data.errors;\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t}\n\n\t\t\t\telse{\n\t\t\t\t\ttoastr.error(\"Network error\");\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t);\n\t}\n\n\t$scope.getMyReview();\n\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.controller(\"MyReviewController\",['$scope','$routeParams','reviewService',function($scope,$routeParams,reviewService){\n\n\t$scope.requestCompleted = false;\n\n\t$scope.reviews = {};\n\n\t$scope.currentPage = parseInt($routeParams.page) || 1;\n\t$scope.lastPage=1;\n\n\t$scope.initPagination = function(){\n\n\t\t$scope.lastPage = $scope.reviews.last_page;\n\n\t\t$scope.nextPage = $scope.lastPage == $scope.currentPage ? false : $scope.currentPage + 1;\n\t\t$scope.previousPage = $scope.currentPage==1 ? false:$scope.currentPage - 1;\n\n\n\t}\n\n\t\n\n\n\n\t$scope.getReviews = function(){\n\t\t$scope.requestCompleted =false;\n\t\treviewService.getMyReviews($scope.currentPage).then(\n\n\t\t\t// success\n\t\t\tfunction(response){\n\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tif(response.status == 200){\n\t\t\t\t\t$scope.reviews = response.data;\n\n\t\t\t\t\t$scope.initPagination();\n\t\t\t\t\t$scope.requestCompleted=true;\n\n\t\t\t\t}\n\n\n\n\n\t\t\t},\n\t\t\t// Error\n\t\t\tfunction(response){\n\n\t\t\t\t$scope.requestCompleted =true;\n\n\t\t\t}\n\n\t\t);\n\n\t}\n\n\t$scope.init = function(){\n\n\t\t$scope.getReviews();\n\t}\n\n\t$scope.init();\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.controller('ProfileController',['$scope','meService','toastr',function($scope,meService,toastr){\n\t\t\n\t\t$scope.content = \"Hello Universe\";\n\n\n\t\t\n\t\t$scope.content = \"Profile\";\n\n\t\t$scope.requestCompleted = false;\n\n\t\t$scope.fetchMyProfile = function(){\n\t\t\tmeService.profile().then(function(data,status,headers){\n\n\t\t\t\t$scope.profile = data.data;\n\t\t\t\t$scope.requestCompleted = true;\n\n\t\t\t},function(){\n\n\t\t\t});\n\t\t}\n\n\t\t$scope.updateProfile = function(){\n\n\t\t\t$scope.requestCompleted = false;\n\t\t\tmeService.updateProfile($scope.profile)\n\t\t\t.then(function(data){\n\n\t\t\t\t$scope.profile = data.data;\n\t\t\t\t$scope.requestCompleted = true;\n\t\t\t\ttoastr.success('Profile updated!', 'Nice job!');\n\t\t\t\t\n\n\t\t\t},function(response,status){\n\t\t\t\tconsole.log(response);\n\n\t\t\t\tif(response.status == 422){\n\t\t\t\t\ttoastr.error('Validation error!', 'Ooop!');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttoastr.error('Something went wrong!', 'Ooop!');\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t$scope.requestCompleted = true;\n\n\t\t\t});\n\t\t}\n\n\t\tif(!$scope.profile){\n\t\t\t$scope.fetchMyProfile();\n\t\t}\n\n}]);","\"use strict\";\nangular.module(\"userApp\")\n\t.controller('SettingsController',['$scope','meService','toastr',function($scope,meService,toastr){\n\t\t//\n\t\t$scope.title = \"settings\";\n\n\t\t$scope.user = {};\n\t\t$scope.init = function(){\n\t\t\tmeService.profile().then(function(data,status,headers){\n\n\t\t\t\t$scope.user = {\"email\":data.data.email};\n\t\t\t\t$scope.requestCompleted = true;\n\n\t\t\t},function(){\n\n\t\t\t});\n\t\t}\n\n\t\t// Update Password\n\t\t$scope.updatePassword = function(){\n\t\t\t$scope.requestCompleted = false;\n\t\t\tmeService.updatePassword($scope.user).then(\n\n\t\t\t\tfunction(response){\n\t\t\t\t\t// Success callback\n\t\t\t\t\ttoastr.success(\"Password updated !!\",\"Nice\");\n\t\t\t\t\t$scope.requestCompleted =true;\n\n\t\t\t\t\t$scope.user.password = null;\n\t\t\t\t\t$scope.user.password_confirmation = null;\n\t\t\t\t\t$scope.user.old_password = null;\n\n\t\t\t\t},\n\n\t\t\t\tfunction(response){\n\t\t\t\t\t// Error callback\n\t\t\t\t\tif(response.status == 422){\n\t\t\t\t\t\tvar message = response.data.errors.password || response.data.errors.old_password ;\n\t\t\t\t\t\t console.log(message);\n\t\t\t\t\t\t message = message[0] || response.data.errors.old_password || \"Incorrect data provided\";\n\t\t\t\t\t\t console.log(message);\n\t\t\t\t\t\t toastr.error(message, 'Ooops!');\n\t\t\t\t\t\t //toastr.error('Validation error!', 'Ooop!');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttoastr.error('Something went wrong!', 'Ooop!');\n\t\t\t\t\t}\n\t\t\t\t\t$scope.requestCompleted =true;\n\n\t\t\t\t}\n\n\t\t\t);\n\t\t}\n\n\t\t// Update Email\n\t\t$scope.updateEmail = function(){\n\t\t\t$scope.requestCompleted = false;\n\t\t\tmeService.updateEmail($scope.user).then(\n\t\t\t\tfunction(response){\n\n\t\t\t\t\t// Success callback\n\t\t\t\t\tif(response.status == 200){\n\t\t\t\t\t\ttoastr.success('Email updated!', 'Cool!');\n\t\t\t\t\t\t$scope.user.email_password = null;\n\t\t\t\t\t\t$scope.user = {\"email\":response.data.data.email};\n\n\t\t\t\t\t}\n\t\t\t\t\t$scope.requestCompleted =true;\n\n\t\t\t\t},\n\t\t\t\tfunction(response){\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t// Error callback\n\t\t\t\t\tif(response.status == 422){\n\t\t\t\t\tvar message = response.data.errors.email || response.data.errors.email_password || response.data.errors.email_password;\n\t\t\t\t\tconsole.log(message);\n\t\t\t\t\tmessage = message[0] || \"Incorrect data provided\";\n\t\t\t\t\ttoastr.error(message, 'Ooops!');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ttoastr.error('Something went wrong!', 'Ooop!');\n\t\t\t\t\t}\n\t\t\t\t\t\t$scope.user.email_password = null;\n\t\t\t\t\t\t$scope.requestCompleted = true;\n\n\n\t\t\t\t}\n\n\t\t\t);\n\t\t}\n\n\t\t$scope.init();\n\n\n\t}]);","\"use strict\";\nangular.module(\"userApp\")\n\t.controller('VendorController',['$scope','vendorService','toastr','Upload',function($scope,vendorService,toastr,Upload){\n\n\n\t\t//\n\t\t$scope.vendor = false;\n\t\t$scope.cities = false;\n\t\t$scope.categories = false;\n\n\t\t$scope.serverErrors = false;\n\n\t\t$scope.requestCompleted = false;\n\n\t\t$scope.vendorProfile = function(){\n\n\t\t\tvendorService.get().then(\n\t\t\t\t// Success\n\t\t\t\tfunction(response){\n\n\t\t\t\t\t$scope.vendor = response.data.vendor;\n\t\t\t\t\t$scope.cities = response.data.cities;\n\t\t\t\t\t$scope.categories = response.data.categories;\n\t\t\t\t\t$scope.requestCompleted = true;\n\n\n\t\t\t\t},\n\t\t\t\t// Error\n\t\t\t\tfunction(xhr){\n\n\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t$scope.updateProfile = function(){\n\t\t\t$scope.requestCompleted = false;\n\t\t\t$scope.serverErrors = false;\n\t\t\tvendorService.update($scope.vendor).then(\n\t\t\t\tfunction(response){\n\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t// if ok\n\t\t\t\t\tif(response.status == 200){\n\t\t\t\t\t\t$scope.vendor = response.data;\n\t\t\t\t\t\ttoastr.success(\"Profile updated\",\"Great\");\n\n\t\t\t\t\t}\n\t\t\t\t\t$scope.requestCompleted = true;\n\n\t\t\t\t},\n\t\t\t\tfunction(xhr){\n\t\t\t\t\tconsole.log(\"Error\",xhr);\n\t\t\t\t\t// check errors\n\t\t\t\t\tif(xhr.status == 422){\n\t\t\t\t\t\ttoastr.error(\"Please fill correct data\",\"Validation errors\");\n\t\t\t\t\t\t$scope.serverErrors = xhr.data.errors;\n\n\t\t\t\t\t}\n\t\t\t\t\t$scope.requestCompleted = true;\n\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t// Update profile picture\n\t\t$scope.updatePic = function(){\n\t\t\tvendorService.updatePicture($scope.file).then(\n\t\t\t\tfunction(response){\n\n\t\t\t\t\tif(response.status==200){\n\t\t\t\t\t\ttoastr.success('Profile Picture Updated!');\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tfunction(xhr){\n\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\n\t\t// Init\n\t\t$scope.vendorProfile();\n\t\t\n\t}]);","\"use strict\";\nangular.module(\"userApp\")\n\t.controller('DemoController',['$scope',function($scope){\n\t\t//\n\t\t\n\t}]);","\"use strict\";\nangular.module(\"userApp\")\n.factory(\"api\",[\"$http\",function($http){\n\treturn {\n\n\t\trequest:function(httpMethod,url,data){\n\t\t\treturn $http({\"method\":httpMethod,\"url\":url,\"data\":data});\n\t\t}\n\t}\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.factory(\"categoryService\",['api',function(){\n\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.factory(\"meService\",[\"api\",function(api){\n\treturn {\n\n\t\tprofileData:false,\n\n\t\tsetProfileData:function(data){\n\t\t\tthis.profileData = data;\n\t\t\treturn this.profileData;\n\t\t},\n\t\tgetProfileData:function(){\n\t\t\treturn this.profileData;\n\t\t},\n\n\t\tprofile:function(){\n\t\t\treturn api.request('get','api/me');\n\t\t},\n\t\tupdateProfile:function(data){\n\n\t\t\treturn api.request('put','api/me',data);\n\n\t\t},\n\n\t\t// Settings\n\t\tupdatePassword:function(data){\n\n\t\t\treturn api.request('put','api/me/changepassword',data);\n\n\t\t},\n\t\tupdateEmail:function(data){\n\n\t\t\treturn api.request('put','api/me/changeemail',data);\n\n\n\t\t}\n\t}\n}]);","\"strict user\";\nangular.module(\"userApp\")\n.factory(\"reviewService\",[\"api\",function(api){\n\n\treturn {\n\n\t\t/*\n\t\tReturn a list of athures review\n\t\t */\n\t\t \n\t\tgetMyReviews:function(page){\n\t\t\tvar page = page || 1;\n\t\t\treturn api.request(\"get\",\"api/me/reviews?page=\"+page);\n\t\t},\n\t\tfindMyReview:function(id){\n\n\t\t\tvar id = id;\n\n\t\t\treturn api.request('get','api/me/reviews/find/'+id);\n\n\t\t},\n\t\tupdateMyReview:function(id,data){\n\t\t\tvar id = id;\n\t\t\treturn api.request('put','api/me/reviews/find/'+id,data);\n\t\t},\n\n\t\t/*\n\t\t Return vendors reviews\n\t\t */\n\t\tgetVendorReviews:function(){\n\n\t\t}\n\t};\n\n}]);","\"use strict\";\nangular.module(\"userApp\")\n.factory(\"vendorService\",[\"api\",\"Upload\",function(api,Upload){\n\treturn {\n\t\tget:function(){\n\t\t\treturn api.request('get','api/me/vendor');\n\t\t},\n\t\tupdate:function(data){\n\n\t\t\treturn api.request('put','api/me/vendor',data);\n\n\t\t},\n\t\tupdatePicture:function(file){\n\n\n\t\t\treturn Upload.upload({\n\t\t\t\turl:\"api/me/vendor/picture\",\n\t\t\t\tdata:{file:file}\n\t\t\t});\n\n\t\t}\n\t}\n}]);"],"sourceRoot":"/source/"}